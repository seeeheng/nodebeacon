(this["webpackJsonpleaflet-server"]=this["webpackJsonpleaflet-server"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"0":{"_where":"Living room","map":{"x_max_px":321,"y_max_px":606,"m_to_px":0.020872},"beacon1":{"mac":"3ca308ac7f69","relative_x_m":0,"relative_y_m":0,"x_px":300,"y_px":23.5},"beacon2":{"mac":"94e36d6215f0","relative_x_m":-5.82,"relative_y_m":4.44,"x_px":21,"y_px":236},"beacon3":{"mac":"3ca308ac9f0f","relative_x_m":-2.317,"relative_y_m":7.31,"x_px":189,"y_px":373.8},"beacon4":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon5":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon6":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon7":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon8":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0}},"1":{"_where":"Room","map":{"x_max_px":454,"y_max_px":728,"m_to_px":0.014758},"beacon1":{"mac":"3ca308ac7f2e","relative_x_m":0,"relative_y_m":0,"x_px":272,"y_px":710},"beacon2":{"mac":"3ca308ac9b69","relative_x_m":-3.72,"relative_y_m":0,"x_px":20,"y_px":710},"beacon3":{"mac":"3ca308adecb3","relative_x_m":-2.37,"relative_y_m":-3.873,"x_px":111.4,"y_px":522.7},"beacon4":{"mac":"3ca308ac9f0f","relative_x_m":-0.635,"relative_y_m":-2.937,"x_px":111.4,"y_px":522.7},"beacon5":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon6":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon7":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0},"beacon8":{"mac":"","relative_x_m":0,"relative_y_m":0,"x_px":0,"y_px":0}},"2":{"_where":"DIC","map":{"x_max_px":2736,"y_max_px":2128,"m_to_px":0},"beacon1":{"mac":"3ca308adecb3","relative_x_m":0,"relative_y_m":0,"x_px":2128,"y_px":755},"beacon2":{"mac":"3ca308ac9b69","relative_x_m":1.06,"relative_y_m":16.03,"x_px":2162.2,"y_px":1268},"beacon3":{"mac":"3ca308ac7f2e","relative_x_m":8.02,"relative_y_m":34.2,"x_px":2384.5,"y_px":1849.4}}}')},45:function(e,a,t){e.exports=t.p+"static/media/room.e678e337.png"},46:function(e,a,t){e.exports=t.p+"static/media/livingroom.8d8efb3f.png"},47:function(e,a,t){e.exports=t.p+"static/media/dicpart1.df66aa78.jpg"},52:function(e,a,t){e.exports=t(95)},86:function(e,a){},94:function(e,a,t){},95:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),c=t(13),r=t.n(c),i=t(43),_=t(44),l=t(51),m=t(50),s=t(101),p=t(97),x=t(102),v=t(98),u=t(99),f=t(100),b=(t(28),t(3)),y=t.n(b),h=t(45),d=t.n(h),g=t(46),E=t.n(g),w=t(47),O=t.n(w),j=t(26),C=t.n(j),N=t(10);delete y.a.Icon.Default.prototype._getIconUrl,y.a.Icon.Default.mergeOptions({iconRetinaUrl:t(89),iconUrl:t(90),shadowUrl:t(91)});var k=function(e){return o.a.createElement(s.a,{center:e.center,radius:e.radius},o.a.createElement(p.a,{direction:"right",permanent:!0},e.name))},I=new Object({0:E.a,1:d.a,2:O.a}),D=function(e){console.log("Now parsing beacon names from config file.");var a=new Object;for(var t in e)for(var n in e[t])if(n.startsWith("beacon")){var o=n.slice(n.length-1);"undefined"==typeof a[o]&&(a[o]=[]);var c=e[t][n].mac;c="BEACON "+o+" ("+(c=c.slice(c.length-4))+")",a[o].push(c)}return a}(N),S=function(e){console.log("Now parsing beacon locations from config file.");var a=new Object;for(var t in e)for(var n in e[t])if(n.startsWith("beacon")){var o=n.slice(n.length-1);"undefined"==typeof a[o]&&(a[o]=[]);var c=e[t][n].x_px,r=e[t][n].y_px;a[o].push([r,c])}return a}(N),U=function(e){console.log("Now parsing beacon locations from config file.");var a=new Object;for(var t in e){var n=e[t].map.x_max_px,o=e[t].map.y_max_px;a[t]=[o,n]}return a}(N),R=function(e){console.log("Now parsing beacon locations from config file.");var a=new Object;for(var t in e){var n=e[t].map.x_max_px,o=e[t].map.y_max_px;a[t]=[o/2,n/2]}return a}(N);console.log(S);var z=function(e){Object(l.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).onChangeValue=function(e){n.setState({location:e.target.value}),console.log(n.state)},n.state={lat:0,lng:0,zoom:-.5,location:2,beacon_name:D,beacon_center:S,map_bounds:U,map_centers:R,maps:I},n}return Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("About to fetch."),C()("http://127.0.0.1:9000").on("updateData",(function(a){console.log(a),e.setState({lat:a.lat,lng:a.lng})}))}},{key:"componentWillUnmount",value:function(){C()("http://127.0.0.1:9000").close()}},{key:"render",value:function(){var e=[this.state.lat,this.state.lng],a=this.state.maps[this.state.location],t=y.a.latLng([0,0]),n=this.state.map_bounds[this.state.location],c=y.a.latLngBounds(n,t),r=this.state.map_centers[this.state.location];return o.a.createElement("div",{className:"UI"},o.a.createElement("div",{onChange:this.onChangeValue,className:"buttoncontainer"},o.a.createElement("label",{className:"buttons"},o.a.createElement("input",{type:"radio",value:0,name:"where"})," Living Room",o.a.createElement("input",{type:"radio",value:1,name:"where"})," Room",o.a.createElement("input",{type:"radio",value:2,name:"where",defaultChecked:!0})," DIC")),o.a.createElement("div",{className:"map"},o.a.createElement(x.a,{center:r,scrollWheelZoom:!1,doubleClickZoom:!1,zoom:this.state.zoom,minZoom:-2,zoomSnap:.125,crs:y.a.CRS.Simple},o.a.createElement(v.a,{url:a,bounds:c}),o.a.createElement(u.a,{position:e},o.a.createElement(f.a,null,"You are here. ",o.a.createElement("br",null))),o.a.createElement(k,{center:this.state.beacon_center[1][this.state.location],radius:4,name:this.state.beacon_name[1][this.state.location]}),o.a.createElement(k,{center:this.state.beacon_center[2][this.state.location],radius:4,name:this.state.beacon_name[2][this.state.location]}),o.a.createElement(k,{center:this.state.beacon_center[3][this.state.location],radius:4,name:this.state.beacon_name[3][this.state.location]}))))}}]),t}(o.a.Component);t(94);r.a.render(o.a.createElement(z,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.38ba5906.chunk.js.map